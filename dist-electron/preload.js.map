{"version":3,"file":"preload.js","sources":["../src/preload.ts"],"sourcesContent":["import { contextBridge, ipcRenderer, type IpcRendererEvent } from \"electron\";\n\ntype ProxyHealth = {\n  ok: boolean;\n  message: string;\n};\n\ncontextBridge.exposeInMainWorld(\"secureProxy\", {\n  applyProxy: (payload: { proxyUrl: string; enabled: boolean; allowRemote: boolean }) =>\n    ipcRenderer.invoke(\"proxy:apply\", payload) as Promise<void>,\n  checkProxy: () => ipcRenderer.invoke(\"proxy:check\") as Promise<ProxyHealth>,\n});\n\ncontextBridge.exposeInMainWorld(\"onion\", {\n  install: (payload: { network: \"tor\" | \"lokinet\" }) =>\n    ipcRenderer.invoke(\"onion:install\", payload) as Promise<void>,\n  uninstall: (payload: { network: \"tor\" | \"lokinet\" }) =>\n    ipcRenderer.invoke(\"onion:uninstall\", payload) as Promise<void>,\n  setMode: (payload: { enabled: boolean; network: \"tor\" | \"lokinet\" }) =>\n    ipcRenderer.invoke(\"onion:setMode\", payload) as Promise<void>,\n  status: () => ipcRenderer.invoke(\"onion:status\") as Promise<unknown>,\n  checkUpdates: () => ipcRenderer.invoke(\"onion:checkUpdates\") as Promise<unknown>,\n  applyUpdate: (payload: { network: \"tor\" | \"lokinet\" }) =>\n    ipcRenderer.invoke(\"onion:applyUpdate\", payload) as Promise<void>,\n  onProgress: (cb: (payload: unknown) => void) => {\n    const handler = (_event: IpcRendererEvent, payload: unknown) => cb(payload);\n    ipcRenderer.on(\"onion:progress\", handler);\n    return () => ipcRenderer.removeListener(\"onion:progress\", handler);\n  },\n});\n"],"names":[],"mappings":";AAOA,cAAc,kBAAkB,eAAe;AAAA,EAC7C,YAAY,CAAC,YACX,YAAY,OAAO,eAAe,OAAO;AAAA,EAC3C,YAAY,MAAM,YAAY,OAAO,aAAa;AACpD,CAAC;AAED,cAAc,kBAAkB,SAAS;AAAA,EACvC,SAAS,CAAC,YACR,YAAY,OAAO,iBAAiB,OAAO;AAAA,EAC7C,WAAW,CAAC,YACV,YAAY,OAAO,mBAAmB,OAAO;AAAA,EAC/C,SAAS,CAAC,YACR,YAAY,OAAO,iBAAiB,OAAO;AAAA,EAC7C,QAAQ,MAAM,YAAY,OAAO,cAAc;AAAA,EAC/C,cAAc,MAAM,YAAY,OAAO,oBAAoB;AAAA,EAC3D,aAAa,CAAC,YACZ,YAAY,OAAO,qBAAqB,OAAO;AAAA,EACjD,YAAY,CAAC,OAAmC;AAC9C,UAAM,UAAU,CAAC,QAA0B,YAAqB,GAAG,OAAO;AAC1E,gBAAY,GAAG,kBAAkB,OAAO;AACxC,WAAO,MAAM,YAAY,eAAe,kBAAkB,OAAO;AAAA,EACnE;AACF,CAAC;"}